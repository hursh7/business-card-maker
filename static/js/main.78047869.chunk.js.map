{"version":3,"sources":["components/image_file_input/image_file_input.module.css","components/header/header.module.css","components/button_delete/button_delete.module.css","components/preview/preview.module.css","components/editor/editor.module.css","components/card/card.module.css","components/maker/maker.module.css","app.module.css","components/footer/footer.module.css","components/login/login.module.css","components/button_add/button_add.module.css","index.module.css","components/header/header.jsx","components/footer/footer.jsx","components/login/login.jsx","components/button_delete/button_delete.jsx","components/card_edit_form/card_edit_form.jsx","components/button_add/button_add.jsx","components/card_add_form/card_add_form.jsx","components/editor/editor.jsx","components/card/card.jsx","components/preview/preview.jsx","components/maker/maker.jsx","app.jsx","service/firebase.js","service/auth_service.js","service/image_uploader.js","components/image_file_input/image_file_input.jsx","service/card_repository.js","index.js","components/card_edit_form/card_edit_form.module.css","components/card_add_form/card_add_form.module.css"],"names":["module","exports","Header","memo","onLogout","className","styles","header","logout","onClick","logo","img","src","alt","text","Footer","footer","Login","authService","history","useHistory","goToMaker","userId","push","pathname","state","id","onLogin","event","login","currentTarget","textContent","then","data","user","uid","useEffect","onAuthChange","title","class","container","item","button","icon","disabled","ButtonDelete","name","red","blue","CardEditForm","FileInput","card","updateCard","deleteCard","company","number","email","message","theme","fileName","onChange","preventDefault","value","form","input","type","select","textarea","fileInput","onFileChange","file","fileURL","url","delete","ButtonAdd","CardAddForm","onAdd","formRef","useRef","nameRef","companyRef","themeRef","titleRef","numberRef","emailRef","messageRef","useState","setFile","ref","placeholder","console","log","add","Date","now","current","reset","Editor","cards","addCard","editor","Object","keys","map","key","getStyles","dark","light","colorful","Error","Card","avatar","info","nameTitle","line","Preview","preview","Maker","cardRepository","historyState","location","setCards","setUserId","useCallback","stopSync","syncCards","createOrupdateCard","updated","saveCard","maker","removeCard","App","app","basename","process","exact","path","firebaseConfig","apiKey","authDomain","databaseURL","REACT_APP_FIREBASE_DB_URL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","firebaseAuth","auth","firebaseDatabase","database","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","githubProvider","GithubAuthProvider","AuthService","providerName","authProvider","this","getProvider","signInWithPopup","signOut","onUserChanged","onAuthStateChanged","ImageUploader","a","FormData","append","fetch","method","body","result","json","ImageFileInput","imageUploader","loading","setLoading","inputRef","upload","target","files","uploaded","original_filename","accept","pink","grey","click","CardRepository","onUpdate","on","snapshot","val","off","set","remove","props","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.78047869.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerLightGrey\":\"#e8e7e6\",\"makerPink\":\"pink\",\"makerLightPink\":\"#ffeae8\",\"container\":\"image_file_input_container__31Eod\",\"input\":\"image_file_input_input__1nxq9\",\"button\":\"image_file_input_button__1lCuJ\",\"grey\":\"image_file_input_grey__msCnJ\",\"pink\":\"image_file_input_pink__2xVMR\",\"loading\":\"image_file_input_loading__1ZDuj\",\"spin\":\"image_file_input_spin__16rCw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerMain\":\"#0056fb\",\"makerWhite\":\"white\",\"makerBlack\":\"black\",\"makerYellow\":\"#FBAC3F\",\"makerBoldGrey\":\"#576175\",\"header\":\"header_header__xr824\",\"logo\":\"header_logo__jXZX2\",\"img\":\"header_img__2iPrU\",\"text\":\"header_text__3Xjh2\",\"logout\":\"header_logout__331k2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerRed\":\"#f05e45\",\"makerWhite\":\"white\",\"button\":\"button_delete_button__3-iOv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBoldGrey\":\"#576175\",\"makerLightGrey\":\"#e8e7e6\",\"mediaQuery\":\"62rem\",\"preview\":\"preview_preview__1ttUR\",\"title\":\"preview_title__2x8xk\",\"cards\":\"preview_cards__2gD6q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBoldGrey\":\"#576175\",\"makerLightGrey\":\"#e8e7e6\",\"mediaQuery\":\"62rem\",\"editor\":\"editor_editor__32CkP\",\"title\":\"editor_title__30bf0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"makerLightGrey\":\"#e8e7e6\",\"makerColorful\":\"linear-gradient(to right top, #d16ba5, #c777b9, #ba83ca, #aa8fd8, #9a9ae1, #8aa7ec, #79b3f4, #69bff8, #52cffe, #41dfff, #46eefa, #5ffbf1)\",\"makerPink\":\"pink\",\"makerBoldYellow\":\"#706015\",\"makerShadow\":\"1px -1px 21px 5px rgba(156,141,141,0.75)\",\"card\":\"card_card__1EBvu\",\"icon\":\"card_icon__2OyNT\",\"light\":\"card_light__7w-8_\",\"dark\":\"card_dark__Se02V\",\"colorful\":\"card_colorful__1s-i4\",\"avatar\":\"card_avatar__18v3H\",\"info\":\"card_info__1eGO-\",\"company\":\"card_company__2fKBu\",\"number\":\"card_number__1k2m2\",\"email\":\"card_email__279MS\",\"message\":\"card_message__3splz\",\"nameTitle\":\"card_nameTitle__2yauH\",\"line\":\"card_line__mLVNX\",\"name\":\"card_name__3AiB3\",\"title\":\"card_title__22AVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mediaQuery\":\"62rem\",\"makerWhite\":\"white\",\"makerShadow\":\"1px -1px 21px 5px rgba(156,141,141,0.75)\",\"maker\":\"maker_maker__1ZZzl\",\"container\":\"maker_container__1q76v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerColorful\":\"linear-gradient(to right top, #d16ba5, #c777b9, #ba83ca, #aa8fd8, #9a9ae1, #8aa7ec, #79b3f4, #69bff8, #52cffe, #41dfff, #46eefa, #5ffbf1)\",\"app\":\"app_app__2C0tB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerMain\":\"#0056fb\",\"makerGrey\":\"#d2d9eb\",\"footer\":\"footer_footer__3jorh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerMain\":\"#0056fb\",\"makerBlue\":\"#25437A\",\"makerLightBlue\":\"#7a9ad3\",\"makerGrey\":\"#d2d9eb\",\"makerLightPink\":\"#ffeae8\",\"makerWhite\":\"white\",\"makerShadow\":\"1px -1px 21px 5px rgba(156,141,141,0.75)\",\"login\":\"login_login__3Gh3R\",\"title\":\"login_title__1QBae\",\"text\":\"login_text__2yHLX\",\"img\":\"login_img__1Kydn\",\"container\":\"login_container__3XKoZ\",\"item\":\"login_item__V_Ypa\",\"button\":\"login_button__2LfHb\",\"icon\":\"login_icon__2yZYV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerBlue2\":\"undefined\",\"makerWhite\":\"white\",\"makerBlue\":\"#25437A\",\"button\":\"button_add_button__7y65u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGrey\":\"#d2d9eb\",\"makerColorful\":\"linear-gradient(to right top, #d16ba5, #c777b9, #ba83ca, #aa8fd8, #9a9ae1, #8aa7ec, #79b3f4, #69bff8, #52cffe, #41dfff, #46eefa, #5ffbf1)\"};","import React, { memo } from 'react';\r\nimport styles from './header.module.css';\r\n\r\nconst Header = memo(({ onLogout }) => (\r\n    <header className={styles.header}>\r\n        {onLogout && (\r\n            <button className={styles.logout} onClick={onLogout}>\r\n                Logout\r\n            </button>\r\n        )}\r\n        <div className={styles.logo}>\r\n            <img className={styles.img} src=\"./images/logo.svg\" alt=\"로고\" />\r\n            <h1 className={styles.text}>Cardmaker</h1>\r\n        </div>\r\n    </header>    \r\n));\r\n\r\nexport default Header;","import React, { memo } from 'react';\r\nimport styles from './footer.module.css';\r\n\r\nconst Footer = memo(() => (\r\n    <footer className={styles.footer}>\r\n        <p>Copyright 2021. Jun</p>\r\n    </footer>    \r\n)); \r\n\r\nexport default Footer;","import { useHistory } from 'react-router';\r\nimport Header from '../header/header';\r\nimport Footer from '../footer/footer';\r\nimport styles from './login.module.css';\r\nimport { useEffect } from 'react';\r\n\r\nconst Login = ({ authService }) => {\r\n    const history = useHistory(); \r\n    const goToMaker = userId => {\r\n        history.push({\r\n            pathname: '/maker',\r\n            state: { id: userId },\r\n        });\r\n    };\r\n\r\n    const onLogin = event => {\r\n        authService\r\n        .login(event.currentTarget.textContent)\r\n        .then(data => goToMaker(data.user.uid));\r\n    };\r\n\r\n    useEffect(() => {\r\n        authService.onAuthChange(user => {\r\n            user && goToMaker(user.uid);\r\n        });\r\n    });\r\n\r\n    return (\r\n        <section className={styles.login}>\r\n            <Header />\r\n            <section>\r\n                <h2 className={styles.title}>Welcome to Cardmaker</h2>\r\n                <p className={styles.text}>\r\n                    Start with your social account and Make your \r\n                    <br /> \r\n                    own business card!\r\n                </p>\r\n                <img class={styles.img} src=\"./images/main_bg.png\" alt=\"메인이미지\" />\r\n                <ul className={styles.container}>\r\n                    <li className={styles.item}>\r\n                        <button className={styles.button} onClick={onLogin}>\r\n                            <img className={styles.icon} src=\"./images/google.svg\" alt=\"구글\" />\r\n                            <p>Sign in with Google</p>\r\n                        </button>\r\n                    </li>\r\n                    <li className={styles.item}>\r\n                        <button className={styles.button} onClick={onLogin}>\r\n                            <img className={styles.icon} src=\"./images/github.svg\" alt=\"깃허브\" />\r\n                            <p>Sign in with Github</p>\r\n                        </button>\r\n                    </li>\r\n                    <li className={styles.item}>\r\n                        <button className={styles.button} onClick={onLogin} disabled=\"disabled\">\r\n                            <img className={styles.icon} src=\"./images/facebook.svg\" alt=\"페이스북\" />\r\n                            <p>Sign in with Facebook</p>\r\n                        </button>\r\n                    </li>\r\n                </ul>\r\n            </section>\r\n            <Footer />\r\n        </section>    \r\n    );\r\n}\r\n\r\nexport default Login;","import React, { memo } from 'react';\r\nimport styles from './button_delete.module.css';\r\n\r\nconst ButtonDelete = memo(({ name, onClick }) => (\r\n    <button className={`${styles.button} ${name ? styles.red : styles.blue}`} onClick={onClick}>\r\n        {name || 'Add'}\r\n    </button>\r\n));\r\n\r\nexport default ButtonDelete;","import React from 'react';\r\nimport ButtonDelete from '../button_delete/button_delete';\r\nimport styles from './card_edit_form.module.css';\r\n\r\nconst CardEditForm = ({ FileInput, card, updateCard, deleteCard }) => {\r\n    const {name, company, title, number, email, message, theme, fileName} = card;\r\n\r\n    const onFileChange = file => {\r\n        updateCard({\r\n            ...card,\r\n            fileName: file.name,\r\n            fileURL: file.url,\r\n        });\r\n    };\r\n\r\n    const onChange = (event) => {\r\n        if (event.currentTarget == null) {\r\n            return;    \r\n        }\r\n        event.preventDefault();\r\n        updateCard({\r\n            ...card,\r\n            [event.currentTarget.name]: event.currentTarget.value,\r\n        });\r\n    }\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        deleteCard(card);\r\n    };\r\n    \r\n \r\n    return (\r\n        <form className={styles.form}>\r\n            <input \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"name\" \r\n            value={name} \r\n            onChange={onChange}\r\n            />\r\n            <input \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"title\" \r\n            value={title}\r\n            onChange={onChange} \r\n            />\r\n            <input \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"company\" \r\n            value={company}\r\n            onChange={onChange} \r\n            />\r\n            <input \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"number\" \r\n            value={number}\r\n            onChange={onChange} \r\n            />\r\n            <input \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"email\" \r\n            value={email}\r\n            onChange={onChange} \r\n            />\r\n            <select \r\n            className={styles.select} \r\n            name=\"theme\" \r\n            value={theme}\r\n            onChange={onChange}\r\n            >\r\n                <option value=\"light\">Light</option>\r\n                <option value=\"dark\">Dark</option>\r\n                <option value=\"colorful\">Colorful</option>\r\n            </select>\r\n            <textarea \r\n            className={styles.textarea} \r\n            name=\"message\" \r\n            value={message}\r\n            onChange={onChange} \r\n            />\r\n            <div className={styles.fileInput}>\r\n                <FileInput name={fileName} onFileChange={onFileChange} />\r\n            </div>\r\n            <ButtonDelete className={styles.delete} name='Delete' onClick={onSubmit} />\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default CardEditForm;","import React, { memo } from 'react';\r\nimport styles from './button_add.module.css';\r\n\r\nconst ButtonAdd = memo(({ name, onClick }) => (\r\n    <button className={styles.button} onClick={onClick}>\r\n        {name || 'Add'}\r\n    </button>\r\n));\r\n\r\nexport default ButtonAdd;","import React, { memo, useRef, useState } from 'react';\r\nimport ButtonAdd from '../button_add/button_add';\r\nimport styles from './card_add_form.module.css';\r\n\r\nconst CardAddForm = memo(({ FileInput, onAdd }) => {\r\n    const formRef = useRef();\r\n    const nameRef = useRef();\r\n    const companyRef = useRef();\r\n    const themeRef = useRef();\r\n    const titleRef = useRef();\r\n    const numberRef = useRef();\r\n    const emailRef = useRef();\r\n    const messageRef = useRef();\r\n    const [file, setFile] = useState({\r\n        fileName: null, \r\n        fileURL: null\r\n    });\r\n\r\n    const onFileChange = file => {\r\n        console.log(file);\r\n        setFile({\r\n            fileName: file.name,\r\n            fileURL: file.url,\r\n        });\r\n    };\r\n    \r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        const card = {\r\n            id: Date.now(), \r\n            name: nameRef.current.value || '', \r\n            company: companyRef.current.value || '', \r\n            theme: themeRef.current.value || '', \r\n            title: titleRef.current.value || '', \r\n            number: numberRef.current.value || '', \r\n            email: emailRef.current.value || '', \r\n            message: messageRef.current.value || '',\r\n            fileName: file.fileName || '',\r\n            fileURL: file.fileURL || '', \r\n        };\r\n        formRef.current.reset();\r\n        setFile({ fileName: null, fileURL: null });\r\n        onAdd(card);\r\n    };\r\n    return (\r\n        <form ref={formRef} className={styles.form}>\r\n            <input\r\n            ref={nameRef} \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"name\" \r\n            placeholder=\"Name\" \r\n            />\r\n            <input\r\n            ref={titleRef} \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"title\" \r\n            placeholder=\"Title\" \r\n            />\r\n            <input\r\n            ref={companyRef} \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"company\" \r\n            placeholder=\"Company\" \r\n            />\r\n            <input\r\n            ref={numberRef} \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"number\" \r\n            placeholder=\"Phone Number\" \r\n            />\r\n            <input\r\n            ref={emailRef} \r\n            className={styles.input} \r\n            type=\"text\" \r\n            name=\"email\" \r\n            placeholder=\"Email\" \r\n            />\r\n            <select\r\n            ref={themeRef} \r\n            className={styles.select} \r\n            name=\"theme\" \r\n            placeholder=\"Theme\">\r\n                <option placeholder=\"light\">light</option>\r\n                <option placeholder=\"dark\">dark</option>\r\n                <option placeholder=\"colorful\">colorful</option>\r\n            </select>\r\n            <textarea\r\n            ref={messageRef} \r\n            className={styles.textarea} \r\n            name=\"message\" \r\n            placeholder=\"Message\" \r\n            />\r\n            <div className={styles.fileInput}>\r\n                <FileInput name={file.fileName} onFileChange = {onFileChange} />\r\n            </div>\r\n            <ButtonAdd className={styles.add} name='Add' onClick= {onSubmit} />\r\n        </form>\r\n    )\r\n});\r\n\r\nexport default CardAddForm;","import React from 'react';\r\nimport CardEditForm from '../card_edit_form/card_edit_form';\r\nimport CardAddForm from '../card_add_form/card_add_form';\r\nimport styles from './editor.module.css';\r\n\r\nconst Editor = ({ FileInput, cards, addCard, updateCard, deleteCard }) => (\r\n    <section className={styles.editor}>\r\n        <h1 className={styles.title}>🤔 Input your information..</h1>\r\n        {Object.keys(cards).map(key => (\r\n            <CardEditForm \r\n            key={key}\r\n            FileInput={FileInput} \r\n            card={cards[key]} \r\n            updateCard={updateCard} \r\n            deleteCard={deleteCard}\r\n            />\r\n        ))}\r\n        <CardAddForm FileInput={FileInput} onAdd={addCard} />\r\n    </section>\r\n)\r\n\r\nexport default Editor;","import React, { memo } from 'react';\r\nimport styles from './card.module.css';\r\n\r\nconst DEFAULT_IMAGE = './images/default_profile.svg';\r\nconst Card = memo(({ card }) => {\r\n    const {name, company, title, number, email, message, theme, fileURL} = card;\r\n    const url = fileURL || DEFAULT_IMAGE;\r\n    return (\r\n        <li className={`${styles.card} ${getStyles(theme)}`}>\r\n            <div className={styles.img}>\r\n                <img className={styles.avatar} src={url} alt=\"profile\" />\r\n            </div>\r\n            <div className={styles.info}>\r\n                <div className={styles.nameTitle}>\r\n                    <h1 className={styles.name}>{name}</h1>\r\n                    <p className={styles.title}>{title}</p>\r\n                </div>\r\n                <div className={styles.line}></div>\r\n                <p className={styles.company}>\r\n                    <span className={styles.icon}>\r\n                        <i className=\"fas fa-briefcase\"></i>\r\n                    </span>\r\n                    {company}\r\n                </p>\r\n                <p className={styles.number}>\r\n                    <span className={styles.icon}>\r\n                        <i className=\"fas fa-phone-alt\"></i>\r\n                    </span>\r\n                    {number}\r\n                </p>\r\n                <p className={styles.email}>\r\n                    <span className={styles.icon}>\r\n                        <i className=\"fas fa-envelope\"></i>\r\n                    </span>\r\n                    {email}\r\n                </p>\r\n                <p className={styles.message}>\r\n                    {message}\r\n                </p>\r\n            </div>\r\n        </li>\r\n    );\r\n});\r\n\r\nfunction getStyles(theme) {\r\n    switch(theme) {\r\n        case 'dark':\r\n        return styles.dark;\r\n        case 'light':\r\n        return styles.light;\r\n        case 'colorful':\r\n        return styles.colorful;\r\n            default:\r\n                throw new Error(`unknown theme: ${theme}`);\r\n    }\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from '../card/card' ;\r\nimport styles from './preview.module.css';\r\n\r\nconst Preview = ({ cards }) => (\r\n    <section className={styles.preview}>\r\n        <h1 className={styles.title}>😃 Your Business Card!</h1>\r\n        <ul className={styles.cards}>\r\n            {Object.keys(cards).map(key => (\r\n                <Card key={key} card={cards[key]} />\r\n            ))}\r\n        </ul>\r\n    </section>\r\n)\r\n\r\nexport default Preview;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport Header from '../header/header';\r\nimport Footer from '../footer/footer';\r\nimport Editor from '../editor/editor';\r\nimport Preview from '../preview/preview';\r\nimport styles from './maker.module.css';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst Maker = ({ FileInput, authService, cardRepository }) => {\r\n    const history = useHistory();\r\n    const historyState = history?.location?.state;\r\n    const [cards, setCards] = useState({});\r\n    const [userId, setUserId] = useState(historyState && historyState.id);\r\n\r\n    const onLogout = useCallback(() => {\r\n        authService.logout();\r\n    }, [authService]);\r\n\r\n    useEffect(() => {\r\n        if(!userId) {\r\n            return;        \r\n        }\r\n        const stopSync = cardRepository.syncCards(userId, cards => {\r\n            setCards(cards);\r\n        })\r\n        return () => stopSync();\r\n    }, [userId, cardRepository]);\r\n\r\n    useEffect(() => {\r\n        authService.onAuthChange(user => {\r\n            if(user) {\r\n                setUserId(user.uid);\r\n            } else {\r\n                history.push('/');\r\n            }\r\n        });\r\n    }, [history, authService]);\r\n\r\n    const createOrupdateCard = card => {\r\n        setCards(cards => {\r\n            const updated = {...cards};\r\n            updated[card.id] = card;\r\n            return updated;\r\n        });\r\n        cardRepository.saveCard(userId, card);\r\n    };\r\n\r\n    const deleteCard = card => {\r\n        setCards(cards => {\r\n            const updated = {...cards};\r\n            delete updated[card.id];\r\n            return updated;\r\n        });\r\n        cardRepository.removeCard(userId, card);\r\n    };\r\n\r\n\r\n    return (\r\n        <section className={styles.maker}>\r\n            <Header onLogout={onLogout} />\r\n            <div className={styles.container}>\r\n                <Editor\r\n                FileInput={FileInput} \r\n                cards ={cards} \r\n                addCard={createOrupdateCard} \r\n                updateCard ={createOrupdateCard} \r\n                deleteCard={deleteCard}\r\n                />\r\n                <Preview cards={cards} />\r\n            </div>\r\n            <Footer />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Maker;","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport styles from './app.module.css';\r\nimport Login from './components/login/login';\r\nimport Maker from './components/maker/maker';\r\n\r\nfunction App({ FileInput, authService, cardRepository }) {\r\n  return (\r\n    <div className={styles.app}>\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Login authService={authService} />\r\n            </Route>\r\n            <Route path=\"/Maker\">\r\n              <Maker FileInput={FileInput} authService={authService} cardRepository={cardRepository} />\r\n            </Route>\r\n          </Switch>\r\n        </BrowserRouter>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET, \r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseAuth = firebaseApp.auth();\r\nexport const firebaseDatabase = firebaseApp.database();\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\nexport const facebookProvider = new firebase.auth.FacebookAuthProvider();\r\nexport const githubProvider = new firebase.auth.GithubAuthProvider();","import { firebaseAuth, githubProvider, facebookProvider, googleProvider } from './firebase';\r\n\r\nclass AuthService {\r\n    login(providerName) {\r\n        const authProvider = this.getProvider(providerName);\r\n        return firebaseAuth.signInWithPopup(authProvider);\r\n    }\r\n\r\n    logout() {\r\n        firebaseAuth.signOut();\r\n    }\r\n\r\n    onAuthChange(onUserChanged) {\r\n        firebaseAuth.onAuthStateChanged(user => {\r\n            onUserChanged(user);\r\n        })\r\n    }\r\n\r\n    getProvider(providerName) {\r\n        switch(providerName) {\r\n            case 'Sign in with Google': \r\n            return googleProvider;\r\n            case 'Sign in with Github':\r\n            return githubProvider;\r\n                case 'Sign in with Facebook': \r\n                return facebookProvider;\r\n                default:\r\n                throw new Error(`not supported provider: ${providerName}`)\r\n        }\r\n    }\r\n}\r\n\r\nexport default AuthService;","class ImageUploader {\r\n    async upload(file) {\r\n        const data = new FormData();\r\n        data.append(\"file\", file);\r\n        data.append(\"upload_preset\", \"rctfsd0n\");\r\n        const result = await fetch(\r\n            'https://api.cloudinary.com/v1_1/dgm5nhaob/upload',\r\n            {\r\n                method: \"POST\",\r\n                body: data,\r\n            }\r\n        );\r\n        return await result.json();\r\n    }\r\n}\r\n\r\nexport default ImageUploader;","import React, { useState, useRef, memo } from 'react';\r\nimport styles from './image_file_input.module.css';\r\n\r\nconst ImageFileInput = memo(({ imageUploader, name, onFileChange }) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const inputRef = useRef();\r\n    const onButtonClick = (event) => {\r\n        event.preventDefault();\r\n        inputRef.current.click();\r\n    };\r\n\r\n    const onChange = async event => {\r\n        setLoading(true);\r\n        const uploaded = await imageUploader.upload(event.target.files[0]);\r\n        setLoading(false);\r\n        onFileChange({\r\n            name: uploaded.original_filename,\r\n            url: uploaded.url,\r\n        });\r\n    };\r\n\r\n    return ( \r\n        <div className={styles.container}>\r\n            <input ref={inputRef} className={styles.input} type=\"file\" accept = \"image/*\" name=\"file\" onChange={onChange} />\r\n            \r\n            { !loading && (\r\n                <button className={`${styles.button} ${name ? styles.pink : styles.grey}`} onClick={onButtonClick}>\r\n                    {name || 'No file'}\r\n                </button>\r\n            )}\r\n            { loading && <div className={styles.loading}></div>}\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default ImageFileInput;","import { firebaseDatabase } from './firebase';\r\n\r\nclass CardRepository {\r\n    syncCards(userId, onUpdate) {\r\n        const ref = firebaseDatabase.ref(`${userId}/cards`)\r\n        ref.on('value', snapshot => {\r\n            const value = snapshot.val();\r\n            value && onUpdate(value);\r\n        });\r\n        return () => ref.off();\r\n    }\r\n    saveCard(userId, card) {\r\n        firebaseDatabase.ref(`${userId}/cards/${card.id}`).set(card);\r\n    }\r\n\r\n    removeCard(userId, card) {\r\n        firebaseDatabase.ref(`${userId}/cards/${card.id}`).remove();\r\n    }\r\n}\r\n\r\nexport default CardRepository;","import React, { memo } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.module.css';\r\nimport App from './app';\r\nimport AuthService from './service/auth_service';\r\nimport ImageUploader from './service/image_uploader';\r\nimport ImageFileInput from './components/image_file_input/image_file_input';\r\nimport CardRepository from './service/card_repository';\r\nimport '@fortawesome/fontawesome-free/js/all.js';\r\n\r\nconst authService = new AuthService();\r\nconst cardRepository = new CardRepository();\r\nconst imageUploader = new ImageUploader();\r\nconst FileInput = memo(props => (\r\n  <ImageFileInput {...props} imageUploader={imageUploader} />\r\n));\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App authService={authService} FileInput={FileInput} cardRepository={cardRepository} />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"form\":\"card_edit_form_form__2dmCV\",\"input\":\"card_edit_form_input__2BRN3\",\"textarea\":\"card_edit_form_textarea__1SWOY\",\"select\":\"card_edit_form_select__2ubWq\",\"button\":\"card_edit_form_button__2ECtM\",\"fileInput\":\"card_edit_form_fileInput__2CgTk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"black\",\"makerWhite\":\"white\",\"form\":\"card_add_form_form__23rwe\",\"input\":\"card_add_form_input__8UiKP\",\"textarea\":\"card_add_form_textarea__10miQ\",\"select\":\"card_add_form_select__l3b81\",\"button\":\"card_add_form_button__3AGUM\",\"fileInput\":\"card_add_form_fileInput__30Y5m\"};"],"sourceRoot":""}